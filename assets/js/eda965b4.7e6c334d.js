"use strict";(self.webpackChunkdeployer_docs=self.webpackChunkdeployer_docs||[]).push([[4932],{4137:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>y});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=n.createContext({}),p=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(r),y=o,g=u["".concat(i,".").concat(y)]||u[y]||d[y]||a;return r?n.createElement(g,s(s({ref:t},c),{},{components:r})):n.createElement(g,s({ref:t},c))}));function y(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=u;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var p=2;p<a;p++)s[p]=r[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},1921:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var n=r(7462),o=(r(7294),r(4137));const a={},s="Deploy and Git",l={unversionedId:"advanced/deploy-and-git",id:"version-6.x/advanced/deploy-and-git",title:"Deploy and Git",description:"To clone your repository you need to access your git server.",source:"@site/versioned_docs/version-6.x/advanced/deploy-and-git.md",sourceDirName:"advanced",slug:"/advanced/deploy-and-git",permalink:"/docs/6.x/advanced/deploy-and-git",draft:!1,editUrl:"https://github.com/deployphp/deployer/edit/master/versioned_docs/version-6.x/advanced/deploy-and-git.md",tags:[],version:"6.x",frontMatter:{},sidebar:"version-6.x/docs",previous:{title:"CLI Usage",permalink:"/docs/6.x/cli"},next:{title:"Deploy strategies",permalink:"/docs/6.x/advanced/deploy-strategies"}},i={},p=[{value:"Deploy keys",id:"deploy-keys",level:2},{value:"Agent forwarding",id:"agent-forwarding",level:2}],c={toc:p};function d(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"deploy-and-git"},"Deploy and Git"),(0,o.kt)("p",null,"To clone your repository you need to access your git server.\nCheck if you have access from your server to github with this command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"ssh git@github.com\n")),(0,o.kt)("p",null,"There are two possibilities: deploy keys and agent forwarding."),(0,o.kt)("h2",{id:"deploy-keys"},"Deploy keys"),(0,o.kt)("p",null,"A deploy key is a SSH key set in your repo to grant client read-only access to your repo.\nAs the name says, its primary function is to be used in the deploy process, where only read access is needed.\nAnyone with access to the repository and server will have the ability to deploy the project."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://help.github.com/articles/connecting-to-github-with-ssh/"},"Generate a ssh key")),(0,o.kt)("li",{parentName:"ul"},"Add the ssh key to the repository's deploy keys setting\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Make sure your repo url uses git protocol not https, which means use ",(0,o.kt)("inlineCode",{parentName:"p"},"git@github.com:user/repo.git"))),(0,o.kt)("h2",{id:"agent-forwarding"},"Agent forwarding"),(0,o.kt)("p",null,"In many cases, especially at the beginning of a project,\nSSH agent forwarding is the quickest and simplest method to use.\nAgent forwarding uses the same SSH keys that your local development computer uses."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Pros")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You do not have to generate or keep track of any new keys."),(0,o.kt)("li",{parentName:"ul"},"There is no key management; users have the same permissions on the server that they do locally.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Cons")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Automated deploy processes can't be used.")),(0,o.kt)("p",null,"By default, Deployer uses agent forwarding:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"host(...)\n    ->forwardAgent()\n")))}d.isMDXComponent=!0}}]);